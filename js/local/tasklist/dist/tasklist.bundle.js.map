{"version":3,"file":"tasklist.bundle.js","sources":["../src/component/item.js","../src/component/task-list.js","../src/application.js"],"sourcesContent":["import \"./item.css\";\n\nexport const Item =\n{\n\tprops:\n\t{\n\t\tposition: { default: 0 },\n\t\ttext: { default: '' },\n\t},\n\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"tasklist-list-item\">{{position}}. {{text}}</div>\n\t`\n};\n","import {Item} from './item';\nimport \"./task-list.css\";\n\nexport const MyTaskList =\n{\n\tcomponents:\n\t{\n\t\tItem\n\t},\n\n\tdata(): object\n\t{\n\t\treturn {\n\t\t\tlist: []\n\t\t}\n\t},\n\n\tmethods:\n\t{\n\t\taddNew(): void\n\t\t{\n\t\t\tconst result = prompt(this.$Bitrix.Loc.getMessage('TASK_LIST_QUESTION'));\n\t\t\tthis.list.push(result);\n\t\t},\n\n\t\tclose(): void\n\t\t{\n\t\t\tthis.$Bitrix.Application.get().detachTemplate();\n\t\t},\n\t},\n\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"tasklist-list\">\n\t\t\t<div class=\"tasklist-list-title\">{{$Bitrix.Loc.getMessage('TASK_LIST_TODAY_TITLE')}}</div>\n\t\t\t<template v-for=\"(value, index) in list\" :key=\"index\">\n\t\t\t\t<Item :position=\"index+1\" :text=\"value\"/>\n\t\t\t</template>\n\t\t\t<template v-if=\"list.length <= 0\">\n\t\t\t  \t<div class=\"tasklist-list-empty\">{{$Bitrix.Loc.getMessage('TASK_LIST_LIST_EMPTY')}}</div>\n\t\t\t</template>\n\t\t\t<div class=\"tasklist-list-buttons\">\n\t\t\t\t<button @click=\"addNew\">{{$Bitrix.Loc.getMessage('TASK_LIST_ADD')}}</button>\n\t\t\t\t<button @click=\"close\">{{$Bitrix.Loc.getMessage('TASK_LIST_CLOSE')}}</button>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","import {BitrixVue} from \"ui.vue3\";\nimport {Dom, Loc} from 'main.core';\n\nimport {MyTaskList} from \"./component/task-list\";\n\nexport class TaskList\n{\n    #application;\n\n    constructor(rootNode): void\n    {\n        this.rootNode = document.querySelector(rootNode);\n    }\n\n    start(): void\n    {\n        const button = Dom.create('button', {\n            text: Loc.getMessage('TASK_LIST_OPEN'),\n            events: {\n                click: () => this.attachTemplate()\n            },\n        });\n        Dom.append(button, this.rootNode);\n    }\n\n    attachTemplate(): void\n    {\n        const context = this;\n\n        this.#application = BitrixVue.createApp({\n            name: 'TaskList',\n            components: {\n                MyTaskList\n            },\n            beforeCreate(): void\n            {\n                this.$bitrix.Application.set(context);\n            },\n            template: '<MyTaskList/>'\n        });\n        this.#application.mount(this.rootNode)\n    }\n\n    detachTemplate(): void\n    {\n        if (this.#application)\n        {\n            this.#application.unmount();\n        }\n\n        this.start();\n    }\n}"],"names":["Item","props","position","text","template","MyTaskList","components","data","list","methods","addNew","result","prompt","$Bitrix","Loc","getMessage","push","close","Application","get","detachTemplate","TaskList","rootNode","document","querySelector","button","Dom","create","events","click","attachTemplate","append","context","BitrixVue","createApp","name","beforeCreate","$bitrix","set","mount","unmount","start"],"mappings":";;;CAEO,IAAMA,IAAI,GACjB;GACCC,KAAK,EACL;KACCC,QAAQ,EAAE;OAAE,WAAS;MADtB;KAECC,IAAI,EAAE;OAAE,WAAS;;IAJnB;;GAQCC,QAAQ;CART,CADO;;CCCA,IAAMC,UAAU,GACvB;GACCC,UAAU,EACV;KACCN,IAAI,EAAJA;IAHF;GAMCO,IAND,kBAOC;KACC,OAAO;OACNC,IAAI,EAAE;MADP;IARF;GAaCC,OAAO,EACP;KACCC,MADD,oBAEC;OACC,IAAMC,MAAM,GAAGC,MAAM,CAAC,KAAKC,OAAL,CAAaC,GAAb,CAAiBC,UAAjB,CAA4B,oBAA5B,CAAD,CAArB;OACA,KAAKP,IAAL,CAAUQ,IAAV,CAAeL,MAAf;MAJF;KAOCM,KAPD,mBAQC;OACC,KAAKJ,OAAL,CAAaK,WAAb,CAAyBC,GAAzB,GAA+BC,cAA/B;;IAvBH;;GA4BChB,QAAQ;CA5BT,CADO;;;;;;;;ACEP,KAAaiB,QAAb;GAII,kBAAYC,QAAZ,EACA;KAAA;;KAAA;OAAA;OAAA;;;KACI,KAAKA,QAAL,GAAgBC,QAAQ,CAACC,aAAT,CAAuBF,QAAvB,CAAhB;;;GANR;KAAA;KAAA,wBAUI;OAAA;;OACI,IAAMG,MAAM,GAAGC,aAAG,CAACC,MAAJ,CAAW,QAAX,EAAqB;SAChCxB,IAAI,EAAEW,aAAG,CAACC,UAAJ,CAAe,gBAAf,CAD0B;SAEhCa,MAAM,EAAE;WACJC,KAAK,EAAE;aAAA,OAAM,KAAI,CAACC,cAAL,EAAN;;;QAHA,CAAf;OAMAJ,aAAG,CAACK,MAAJ,CAAWN,MAAX,EAAmB,KAAKH,QAAxB;;;KAjBR;KAAA,iCAqBI;OACI,IAAMU,OAAO,GAAG,IAAhB;OAEA,sDAAoBC,iBAAS,CAACC,SAAV,CAAoB;SACpCC,IAAI,EAAE,UAD8B;SAEpC7B,UAAU,EAAE;WACRD,UAAU,EAAVA;UAHgC;SAKpC+B,YALoC,0BAMpC;WACI,KAAKC,OAAL,CAAanB,WAAb,CAAyBoB,GAAzB,CAA6BN,OAA7B;UAPgC;SASpC5B,QAAQ,EAAE;QATM,CAApB;OAWA,sDAAkBmC,KAAlB,CAAwB,KAAKjB,QAA7B;;;KAnCR;KAAA,iCAuCI;OACI,sCAAI,IAAJ,iBACA;SACI,sDAAkBkB,OAAlB;;;OAGJ,KAAKC,KAAL;;;GA7CR;CAAA;;;;;;;;"}